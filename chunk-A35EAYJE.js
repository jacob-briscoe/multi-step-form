import{a as H}from"./chunk-QVK2J54K.js";import"./chunk-PZ4MZPGG.js";import{a as J,b as K}from"./chunk-L5O5JEXF.js";import{a as L}from"./chunk-TEQWPPR7.js";import{a as T,b as V,d as U,e as u,h as q,i as f,j as I,k as R,l as j,n as C}from"./chunk-3UAONKD5.js";import{a as z,b as $}from"./chunk-DFN6WZGK.js";import{k as G}from"./chunk-J3VABQEQ.js";import{$a as k,Ea as y,Fa as c,Ia as b,Ja as A,K as S,Ka as F,La as o,Ma as r,Na as _,Oa as D,Pa as w,R as h,T as m,Ta as N,Ua as E,Ya as a,_a as O,ab as B,bb as g,cb as v,db as x,la as M,ua as s,za as P}from"./chunk-6TCVSYX7.js";import"./chunk-7CGTOI24.js";function Z(l,e){if(l&1&&(o(0,"li",2)(1,"label",3),_(2,"input",4),o(3,"div",5)(4,"div",6)(5,"p",7),a(6),r(),o(7,"p",8),a(8),r()(),o(9,"div",9),a(10),v(11,"price"),v(12,"billingFrequencyDetail"),r()()()()),l&2){let p=e.$implicit,t=e.$index,n=E();s(2),c("formControlName",t),y("disabled",n.disabled()?!0:null),s(4),O(" ",p.title," "),s(2),O(" ",p.description," "),s(2),k(" +",x(11,6,p.price.amount),"/",x(12,8,p.price.billingFrequency)," ")}}var Q=(()=>{let e=class e{constructor(){this.allAddons=M.required(),this.form=M.required(),this.value=P([]),this.disabled=P(void 0),this.propagateChange=()=>{}}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}setDisabledState(t){this.disabled.set(t)}writeValue(t){this.value.set(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=m({type:e,selectors:[["app-addons-selector"]],inputs:{allAddons:[1,"allAddons"],form:[1,"form"]},standalone:!0,features:[B([{provide:T,useExisting:S(()=>e),multi:!0}]),g],decls:4,vars:1,consts:[[3,"formGroup"],["formArrayName","addons",1,"selection-list"],[1,"selection-list__item"],[1,"selection-list__option"],["type","checkbox",1,"form__input-checkbox",3,"formControlName"],[1,"selection-list__option-content"],[1,"selection-list__option-content-details"],[1,"selection-list__option-content-details-title"],[1,"selection-list__option-content-details-description"],[1,"selection-list__option-content-price"]],template:function(n,i){n&1&&(D(0,0),o(1,"ul",1),A(2,Z,13,10,"li",2,b),r(),w()),n&2&&(c("formGroup",i.form()),s(2),F(i.allAddons()))},dependencies:[J,C,V,U,u,f,R,I,K],styles:[".selection-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;list-style:none;padding:0}.selection-list[_ngcontent-%COMP%]   .selection-list__option[_ngcontent-%COMP%]{border:1px solid var(--light-gray);border-radius:12px;display:flex;align-items:center;height:75px;padding-left:17px}.selection-list[_ngcontent-%COMP%]   .selection-list__option[_ngcontent-%COMP%]:hover{border:1px solid var(--purplish-blue);cursor:pointer}.selection-list[_ngcontent-%COMP%]   .selection-list__option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.selection-list[_ngcontent-%COMP%]   .selection-list__option[_ngcontent-%COMP%]:has(input:checked){border:1px solid var(--purplish-blue);background-color:var(--magnolia)}@media screen and (min-width: 1440px){.selection-list[_ngcontent-%COMP%]{flex-direction:row;gap:1.2rem;height:180px}.selection-list[_ngcontent-%COMP%]   .selection-list__item[_ngcontent-%COMP%]{flex:1}.selection-list[_ngcontent-%COMP%]   .selection-list__item[_ngcontent-%COMP%]   .selection-list__option[_ngcontent-%COMP%]{height:100%}}.selection-list__option-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:1rem}.selection-list__option-content[_ngcontent-%COMP%]   .selection-list__option-content-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.selection-list__option-content[_ngcontent-%COMP%]   .selection-list__option-content-details[_ngcontent-%COMP%]   .selection-list__option-content-details-title[_ngcontent-%COMP%]{color:var(--marine-blue);font-size:15px;font-weight:600}.selection-list__option-content[_ngcontent-%COMP%]   .selection-list__option-content-details[_ngcontent-%COMP%]   .selection-list__option-content-details-description[_ngcontent-%COMP%]{color:var(--cool-gray);font-size:small}.selection-list__option-content[_ngcontent-%COMP%]   .selection-list__option-content-price[_ngcontent-%COMP%]{color:var(--purplish-blue);font-size:small}.selection-list[_ngcontent-%COMP%]   .selection-list__option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block}@media screen and (min-width: 1440px){.selection-list[_ngcontent-%COMP%]{flex-direction:column}.selection-list[_ngcontent-%COMP%]   .selection-list__item[_ngcontent-%COMP%]{flex:unset}.selection-list[_ngcontent-%COMP%]   .selection-list__item[_ngcontent-%COMP%]   .selection-list__option[_ngcontent-%COMP%]{padding:.75rem;height:auto}.selection-list[_ngcontent-%COMP%]   .selection-list__item[_ngcontent-%COMP%]   .selection-list__option[_ngcontent-%COMP%]   .selection-list__option-content[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;height:100%}}"],changeDetection:0});let l=e;return l})();var Ce=(()=>{let e=class e{constructor(){this.formBuilder=h(j),this.signUpService=h(G),this.allAddons=this.signUpService.addons;let{addons:t}=this.signUpService.signUpState(),n=this.allAddons().map(i=>{let d=t?.some(({id:W})=>W===i.id);return this.formBuilder.nonNullable.control(!!d)});this.form=this.formBuilder.group({addons:this.formBuilder.array(n)})}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}let{addons:t}=this.form.getRawValue(),n=this.allAddons().filter((i,d)=>t[d]).map(i=>i);this.signUpService.progressToNextStep({addons:n})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=m({type:e,selectors:[["app-step3"]],standalone:!0,features:[g],decls:9,vars:5,consts:[[1,"main-section__header"],[1,"main-section"],["appForm","",3,"ngSubmit","formGroup"],[3,"control","hasValidation"],[3,"form","allAddons"]],template:function(n,i){n&1&&(o(0,"header",0)(1,"app-main-header"),a(2,"Pick add-ons"),r()(),o(3,"section",1)(4,"app-main-instructions"),a(5," Add-ons help enhance your gaming experience. "),r(),o(6,"form",2),N("ngSubmit",function(){return i.onSubmit()}),o(7,"app-form-field",3),_(8,"app-addons-selector",4),r()()()),n&2&&(s(6),c("formGroup",i.form),s(),c("control",i.form.controls.addons)("hasValidation",!1),s(),c("form",i.form)("allAddons",i.allAddons()))},dependencies:[L,H,z,$,C,q,u,f,Q],encapsulation:2,changeDetection:0});let l=e;return l})();export{Ce as Step3Component};
