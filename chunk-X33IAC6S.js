import{a as ne}from"./chunk-QVK2J54K.js";import"./chunk-PZ4MZPGG.js";import{a as oe,b as re}from"./chunk-L5O5JEXF.js";import{a as ie}from"./chunk-TEQWPPR7.js";import{a as v,b as L,c as F,d as H,e as J,h as K,i as Q,k as W,l as X,n as Z}from"./chunk-3UAONKD5.js";import{a as ee,b as te}from"./chunk-DFN6WZGK.js";import{f as j,h as Y,i as u,k as $}from"./chunk-J3VABQEQ.js";import{$a as G,Aa as k,Da as B,Ea as E,Fa as s,Ha as D,Ja as N,K as C,Ka as V,La as r,Ma as l,Na as _,Qa as U,R as P,T as d,Ta as g,Ua as f,Xa as I,Ya as c,Za as R,_a as A,ab as b,ba as x,bb as m,ca as M,cb as O,da as q,db as S,la as y,qb as z,sa as T,ua as a,za as h}from"./chunk-6TCVSYX7.js";import"./chunk-7CGTOI24.js";var ae=(()=>{let n=class n extends L{constructor(){super(...arguments),this.value=h(void 0),this.isChecked=z(()=>this.value()===u.Yearly),this.propagateChange=e=>{},this.propagateTouched=()=>{},this.onChange=e=>{let t=e.target;if(t==null)return;let i=t.checked?u.Yearly:u.Monthly;this.writeValue(i),this.propagateChange(i)},this.onTouched=()=>{this.propagateTouched()}}writeValue(e){this.value.set(e)}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.propagateTouched=e}};n.\u0275fac=(()=>{let e;return function(i){return(e||(e=q(n)))(i||n)}})(),n.\u0275cmp=d({type:n,selectors:[["app-billing-frequency-toggle"]],standalone:!0,features:[b([{provide:v,useExisting:C(()=>n),multi:!0}]),k,m],decls:7,vars:1,consts:[[1,"label__text"],[1,"toggle-switch"],["type","checkbox",1,"toggle-switch__checkbox",3,"change","blur","checked"],[1,"toggle-switch__slider"]],template:function(t,i){t&1&&(r(0,"span",0),c(1,"Monthly"),l(),r(2,"div",1)(3,"input",2),g("change",function(ce){return i.onChange(ce)})("blur",function(){return i.onTouched()}),l(),_(4,"span",3),l(),r(5,"span",0),c(6,"Yearly"),l()),t&2&&(a(3),s("checked",i.isChecked()))},styles:['[_nghost-%COMP%]{background-color:var(--magnolia);border-radius:12px;padding:1rem;display:flex;gap:1.5rem;align-items:center;justify-content:center}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px}.toggle-switch__checkbox[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-switch__slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--marine-blue);transition:.4s;border-radius:20px}.toggle-switch__slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:12px;width:12px;left:4px;bottom:4px;background-color:var(--magnolia);transition:.4s;border-radius:50%}.toggle-switch__checkbox[_ngcontent-%COMP%]:checked + .toggle-switch__slider[_ngcontent-%COMP%]{background-color:var(--marine-blue)}.toggle-switch__checkbox[_ngcontent-%COMP%]:focus + .toggle-switch__slider[_ngcontent-%COMP%]{box-shadow:0 0 1px var(--marine-blue)}.toggle-switch__checkbox[_ngcontent-%COMP%]:checked + .toggle-switch__slider[_ngcontent-%COMP%]:before{transform:translate(18px)}@media screen and (min-width: 1440px){[_nghost-%COMP%]{gap:2rem!important}}'],changeDetection:0});let o=n;return o})();var pe=(o,n)=>n.id;function _e(o,n){if(o&1&&(r(0,"p",10),c(1),l()),o&2){let p=f().$implicit;a(),A(" ",p.price.promo," ")}}function de(o,n){if(o&1){let p=U();r(0,"li",2)(1,"label",3)(2,"input",4,0),g("blur",function(){x(p);let t=f();return M(t.onBlur())})("change",function(){x(p);let t=I(3),i=f();return M(i.onRadioChange(t.value))}),l(),r(4,"div",5),_(5,"img",6),r(6,"div",7)(7,"p",8),c(8),l(),r(9,"p",9),c(10),O(11,"price"),O(12,"billingFrequencyDetail"),l(),B(13,_e,2,1,"p",10),l()()()()}if(o&2){let p,e=n.$implicit,t=f();a(2),s("name",t.formControlName())("value",e.id)("checked",e.id===((p=t.value())==null?null:p.id)),E("disabled",t.disabled()||null),a(3),s("src",e.icon.src,T)("alt",e.icon.alt)("width",e.icon.width)("height",e.icon.height),a(3),R(e.title),a(2),G(" ",S(11,12,e.price.amount),"/",S(12,14,t.selectedBillingFrequency())," "),a(3),D(e.price.promo?13:-1)}}var se=(()=>{let n=class n{constructor(){this.formControlName=y(null),this.allPlans=y.required(),this.selectedBillingFrequency=y.required(),this.value=h(void 0),this.disabled=h(void 0),this.propagateChange=()=>{},this.propagateTouched=()=>{}}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.propagateTouched=e}setDisabledState(e){this.disabled.set(e)}writeValue(e){this.value.set(e)}onRadioChange(e){let t=+e,i=this.allPlans().find(this.byPlanId(t));this.value.set(i),this.propagateChange(i)}onBlur(){this.propagateTouched()}byPlanId(e){return({id:t})=>t===e}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d({type:n,selectors:[["app-plan-selector"]],inputs:{formControlName:[1,"formControlName"],allPlans:[1,"allPlans"],selectedBillingFrequency:[1,"selectedBillingFrequency"]},standalone:!0,features:[b([{provide:v,useExisting:C(()=>n),multi:!0}]),m],decls:3,vars:0,consts:[["radio",""],[1,"selection__list"],[1,"selection__list__item"],[1,"selection__list__option"],["type","radio",3,"blur","change","name","value","checked"],[1,"selection__list__option-content"],[3,"src","alt","width","height"],[1,"selection__list__option-details"],[1,"selection__list__option-title"],[1,"selection__list__option-price"],[1,"selection__list__option-promo"]],template:function(t,i){t&1&&(r(0,"ul",1),N(1,de,14,16,"li",2,pe),l()),t&2&&(a(),V(i.allPlans()))},dependencies:[oe,re],styles:[".ng-invalid.ng-touched[_nghost-%COMP%]   .selection__list[_ngcontent-%COMP%]{border:1px solid var(--strawberry-red);border-radius:12px}.selection__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;list-style:none;padding:0}.selection__list__option[_ngcontent-%COMP%]{border:1px solid var(--light-gray);border-radius:12px;display:flex;align-items:center;height:75px;padding-left:17px}.selection__list__option[_ngcontent-%COMP%]   .selection__list__option-content[_ngcontent-%COMP%]{display:flex;gap:1rem}.selection__list__option[_ngcontent-%COMP%]   .selection__list__option-content[_ngcontent-%COMP%]   .selection__list__option-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.selection__list__option[_ngcontent-%COMP%]   .selection__list__option-content[_ngcontent-%COMP%]   .selection__list__option-details[_ngcontent-%COMP%]   .selection__list__option-title[_ngcontent-%COMP%]{color:var(--marine-blue);font-size:large;font-weight:500}.selection__list__option[_ngcontent-%COMP%]   .selection__list__option-content[_ngcontent-%COMP%]   .selection__list__option-details[_ngcontent-%COMP%]   .selection__list__option-price[_ngcontent-%COMP%]{color:var(--cool-gray);font-size:small}.selection__list__option[_ngcontent-%COMP%]   .selection__list__option-content[_ngcontent-%COMP%]   .selection__list__option-details[_ngcontent-%COMP%]   .selection__list__option-promo[_ngcontent-%COMP%]{display:none;color:var(--marine-blue);font-size:small}.selection__list__option[_ngcontent-%COMP%]:hover{border:1px solid var(--purplish-blue);cursor:pointer}.selection__list__option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.selection__list__option[_ngcontent-%COMP%]:has(input:checked){border:1px solid var(--purplish-blue);background-color:var(--magnolia)}@media screen and (min-width: 1440px){.selection__list[_ngcontent-%COMP%]{flex-direction:row;gap:1.2rem;height:180px}.selection__list__item[_ngcontent-%COMP%]{flex:1}.selection__list__item[_ngcontent-%COMP%]   .selection__list__option[_ngcontent-%COMP%]{padding:1rem;height:100%}.selection__list__item[_ngcontent-%COMP%]   .selection__list__option[_ngcontent-%COMP%]   .selection__list__option-content[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-between;height:100%}}"],changeDetection:0});let o=n;return o})();var Ae=(()=>{let n=class n{constructor(){this.formBuilder=P(X),this.signUpService=P($),this.plans=this.signUpService.plans;let{plan:e,billingFrequency:t}=this.signUpService.signUpState();this.form=this.formBuilder.group({plan:this.formBuilder.control(Y(e),{validators:[F.required]}),billingFrequency:this.formBuilder.nonNullable.control(j(u.Monthly)(t),{validators:[F.required]})})}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}let{billingFrequency:e,plan:t}=this.form.getRawValue();this.signUpService.progressToNextStep({plan:t,billingFrequency:e})}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d({type:n,selectors:[["app-step2"]],standalone:!0,features:[m],decls:11,vars:5,consts:[[1,"main-section__header"],[1,"main-section"],["appForm","",3,"ngSubmit","formGroup"],[3,"control"],["formControlName","plan",3,"selectedBillingFrequency","allPlans"],["formControlName","billingFrequency"]],template:function(t,i){t&1&&(r(0,"header",0)(1,"app-main-header"),c(2,"Personal info"),l()(),r(3,"section",1)(4,"app-main-instructions"),c(5," Please provide your name, email address, and phone number. "),l(),r(6,"form",2),g("ngSubmit",function(){return i.onSubmit()}),r(7,"app-form-field",3),_(8,"app-plan-selector",4),l(),r(9,"app-form-field",3),_(10,"app-billing-frequency-toggle",5),l()()()),t&2&&(a(6),s("formGroup",i.form),a(),s("control",i.form.controls.plan),a(),s("selectedBillingFrequency",i.form.controls.billingFrequency.value)("allPlans",i.plans()),a(),s("control",i.form.controls.billingFrequency))},dependencies:[ae,ie,ne,ee,te,se,Z,K,H,J,Q,W],styles:[".form__field-billing-frequency[_ngcontent-%COMP%]{background-color:var(--magnolia);border-radius:12px;padding:1rem}@media screen and (min-width: 1440px){.main-section__form-billing-frequency[_ngcontent-%COMP%]{gap:2rem!important}}"],changeDetection:0});let o=n;return o})();export{Ae as Step2Component};
